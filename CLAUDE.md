# CLAUDE.md

Neovim config based on kickstart.nvim using lazy.nvim plugin manager.

## Structure

- `init.lua` - Entry point: options, keymaps, lazy.nvim bootstrap, loads `core.lua`
- `lua/core.lua` - Core plugins (LSP, completion, treesitter, telescope), imports `lua/plugins/*`
- `lua/plugins/*.lua` - Plugin configs by category (debug, ide, ui, git, etc.)
- `lua/compat/*.lua` - Platform-specific: `volar.lua`, `windows.lua`, `neovide.lua`
- `lua/current-theme.lua` - Auto-generated by telescope-themes

## Key Mappings

- Leader: `<space>`
- `jk`/`kj` - Exit insert mode (also saves)
- `,,` - Previous buffer | `,d` - Delete buffer
- `s`/`S` - Leap / Leap from window
- `\` - Toggle neo-tree
- `<leader>f` - Format buffer
- `<leader>sC` - Browse colorschemes

**Debugging (nvim-dap):** `F5` start/continue, `F10` step over, `F11` step into, `F8` step out, `F7` toggle UI

**LSP:** `gd` definition, `gr` references, `<leader>ca` code action, `<leader>rn` rename

**Dotnet:** `<leader>DD` commands, `<leader>Db` build, `<leader>tt` test runner

**Additional Keybinds**
To view all keybinds that are loaded on startup (excluding those registered dynamically), run `nvim --headless -c 'redir! > keymaps.txt | verbose map | redir END' +qall` to output all keybind registrations to both stdout and a file.

**Creating Keybinds**
- When adding keybinds, they must be as semantic as possible but must not conflict with existing keybinds.
  - e.g. "save all buffers" should be something like `<leader>sab` that can be read as "save all buffers" mentally

## Per-Project Config

`.nvim.lua` files in project root (via built-in exrc):
- `vim.g.format_on_save = true` - Enable format-on-save
- `vim.g.use_kl = true` - Load KL plugin

## LSP Servers (Mason)

`ts_ls`, `omnisharp`, `lua_ls` auto-installed. Volar configured in `compat/volar.lua`.

## Workflow

- `:Lazy` - Manage plugins
- `:Mason` - Manage LSP/tools
- `:checkhealth` - Diagnose issues
- Add plugins to `lua/plugins/*.lua`, not `core.lua`
